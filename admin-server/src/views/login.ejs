<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>
      <%= (typeof title !== 'undefined' && title) ? title : 'Admin Login' %> —
      Admin
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <% /* keep your global styles if you have them */ %>
    <link href="/static/admin.css" rel="stylesheet" />

    <style>
      :root {
        --bg: #0e0f12; /* deep black */
        --panel: #121318; /* near black panel */
        --panel-2: #171923;
        --text: #ffffff; /* white */
        --muted: #c9cad1; /* pale gray */
        --brand: #c26a1f; /* brownish orange */
        --brand-600: #a65619;
        --brand-700: #8d4a16;
        --danger: #e5484d;
        --ring: rgba(194, 106, 31, 0.35);
        --radius: 14px;
      }

      /* Page scaffold */
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        color: var(--text);
        background: radial-gradient(
            1200px 600px at 10% -10%,
            rgba(194, 106, 31, 0.15),
            transparent 60%
          ),
          radial-gradient(
            1200px 600px at 110% 110%,
            rgba(194, 106, 31, 0.12),
            transparent 60%
          ),
          linear-gradient(140deg, #0b0c10, #0f1117 40%, #0b0c10);
        font-family: "Segoe UI", "Roboto", system-ui, -apple-system, Arial,
          sans-serif;
      }

      /* Centering wrapper (prevents “one-sided” layout) */
      .auth-wrap {
        min-height: 100%;
        display: grid;
        place-items: center;
        padding: 32px 16px;
      }

      /* Card */
      .auth-card {
        width: min(96vw, 440px);
        background: linear-gradient(180deg, var(--panel), var(--panel-2));
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: var(--radius);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.45),
          0 2px 10px rgba(0, 0, 0, 0.4);
        padding: 28px 24px;
      }

      .auth-head {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 6px;
      }
      .auth-logo {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        background: linear-gradient(135deg, var(--brand), #f3a55e);
        color: #0b0c10;
        font-weight: 800;
        letter-spacing: 0.02em;
      }

      .title-large {
        margin: 0;
        font-size: 1.65rem;
        line-height: 1.2;
        font-weight: 800;
        letter-spacing: 0.3px;
      }
      .text-sub {
        color: var(--muted);
        font-size: 0.95rem;
      }

      /* Alerts */
      .alert {
        border-radius: 10px;
        padding: 10px 12px;
        font-size: 0.95rem;
        margin: 12px 0 8px;
        border: 1px solid transparent;
      }
      .alert--error {
        background: rgba(229, 72, 77, 0.12);
        border-color: rgba(229, 72, 77, 0.35);
        color: #ffb3b6;
      }

      /* Form */
      .form {
        margin-top: 14px;
        display: grid;
        gap: 14px;
      }
      .field label {
        display: block;
        font-size: 0.9rem;
        color: var(--muted);
        margin: 0 0 6px;
      }

      .control {
        display: flex;
        align-items: center;
        gap: 8px;
        background: #0b0c10;
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 12px;
        padding: 10px 12px;
        transition: border-color 0.15s, box-shadow 0.15s, background 0.15s;
      }
      .control:focus-within {
        border-color: var(--brand);
        box-shadow: 0 0 0 3px var(--ring);
      }
      .control input {
        flex: 1;
        color: var(--text);
        background: transparent;
        border: 0;
        outline: none;
        font-size: 1rem;
      }
      .control .toggle {
        border: 0;
        background: transparent;
        color: var(--muted);
        cursor: pointer;
        font-size: 0.95rem;
        padding: 4px 6px;
        border-radius: 8px;
      }
      .control .toggle:hover {
        color: #fff;
        background: rgba(255, 255, 255, 0.06);
      }

      /* Actions */
      .actions {
        display: grid;
        gap: 10px;
        margin-top: 2px;
      }
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        border: 1px solid transparent;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 700;
        padding: 10px 14px;
        text-decoration: none;
        transition: transform 0.04s ease, box-shadow 0.15s, background 0.15s,
          border-color 0.15s;
      }
      .btn:active {
        transform: translateY(1px);
      }

      .btn-primary {
        background: linear-gradient(180deg, var(--brand), var(--brand-600));
        color: #0b0c10;
        border-color: rgba(0, 0, 0, 0.25);
        box-shadow: 0 8px 20px rgba(194, 106, 31, 0.35),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }
      .btn-primary:hover {
        background: linear-gradient(180deg, var(--brand-600), var(--brand-700));
        box-shadow: 0 10px 26px rgba(194, 106, 31, 0.45),
          inset 0 1px 0 rgba(255, 255, 255, 0.25);
      }

      .row-split {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        margin-top: 2px;
      }
      .link-muted {
        color: var(--muted);
        font-size: 0.9rem;
        text-decoration: none;
        border-bottom: 1px dotted transparent;
      }
      .link-muted:hover {
        color: #fff;
        border-bottom-color: rgba(255, 255, 255, 0.25);
      }

      /* Footer note */
      .brand-note {
        margin-top: 16px;
        color: var(--muted);
        font-size: 0.85rem;
        text-align: center;
      }
      .brand-strong {
        color: var(--brand);
        font-weight: 800;
        letter-spacing: 0.3px;
      }

      /* Small screens */
      @media (max-width: 420px) {
        .auth-card {
          width: 100%;
          padding: 22px 16px;
        }
        .title-large {
          font-size: 1.45rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="auth-wrap">
      <div class="auth-card" role="dialog" aria-labelledby="loginTitle">
        <div class="auth-head">
          <div class="auth-logo">CP</div>
          <div>
            <h1 id="loginTitle" class="title-large">Admin Login</h1>
            <div class="text-sub">Use your admin credentials.</div>
          </div>
        </div>

        <% if (error) { %>
        <div class="alert alert--error" role="alert"><%= error %></div>
        <% } %>

        <form method="post" action="/admin/login" class="form" novalidate>
          <% if (typeof csrfToken !== 'undefined' && csrfToken) { %>
          <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
          <% } %>
          <input type="hidden" name="next" value="<%= next || '' %>" />

          <!-- Email -->
          <div class="field">
            <label for="email">Email</label>
            <div class="control">
              <input
                id="email"
                type="email"
                name="email"
                required
                autocomplete="username"
                placeholder="admin@yourdomain.com"
                value="<%= email || '' %>"
                aria-required="true"
              />
            </div>
          </div>

          <!-- Password with show/hide -->
          <div class="field">
            <label for="password">Password</label>
            <div class="control">
              <input
                id="password"
                type="password"
                name="password"
                required
                autocomplete="current-password"
                placeholder="••••••••"
                aria-required="true"
              />
              <button
                type="button"
                class="toggle"
                id="togglePwd"
                aria-controls="password"
                aria-label="Show password"
              >
                Show
              </button>
            </div>
          </div>

          <!-- Actions -->
          <div class="actions">
            <button class="btn btn-primary" type="submit">Continue</button>
            <div class="row-split">
              <a class="link-muted" href="/" title="Back to site"
                >← Back to site</a
              >
              <!-- Example: add a link to support or reset if needed -->
              <!-- <a class="link-muted" href="/admin/reset">Forgot password?</a> -->
            </div>
          </div>
        </form>

        <div class="brand-note">
          Secured • <span class="brand-strong">Crypto-Prime Admin</span>
        </div>
      </div>
    </div>

    <script>
      (function () {
        var btn = document.getElementById("togglePwd");
        var input = document.getElementById("password");
        if (!btn || !input) return;
        btn.addEventListener("click", function () {
          var isPw = input.type === "password";
          input.type = isPw ? "text" : "password";
          btn.textContent = isPw ? "Hide" : "Show";
          input.focus();
        });
      })();
    </script>
  </body>
</html>
